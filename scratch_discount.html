<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Coursiv - Scratch & Save on your 28-Day AI Challenge!</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<!-- Lottie Library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
<style>
/* CSS Variables - Exact from Coursiv */
:root {
--text-accent: #5653FE;
--text-main: #24234C;
--text-secondary: #6B7280;
--bg-main: #FFFFFF;
--bg-secondary: #F1F1F1;
--accent-yellow: #F7C605;
--accent-red: #EA0043;
--accent-teal: #00D392;
}

/* Space Grotesk Font */
@font-face {
  font-family: 'Space Grotesk';
  font-style: normal;
  font-weight: 400;
  src: url('https://fonts.gstatic.com/s/spacegrotesk/v16/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj7oUXskPMA.woff2') format('woff2');
}
@font-face {
  font-family: 'Space Grotesk';
  font-weight: 500;
  src: url('https://fonts.gstatic.com/s/spacegrotesk/v16/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj7aUXskPMA.woff2') format('woff2');
}
@font-face {
  font-family: 'Space Grotesk';
  font-weight: 700;
  src: url('https://fonts.gstatic.com/s/spacegrotesk/v16/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj62UXskPMA.woff2') format('woff2');
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: var(--bg-main);
  overflow: hidden;
  margin: 0;
}

/* Page Layout */
.page-container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--bg-main);
}

/* Header */
nav {
  width: 100%;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-bottom: 2px solid var(--bg-secondary);
  padding: 0 16px;
}

/* Main Content */
.content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 24px 120px;
  text-align: center;
}

h1 {
  font-size: 42px;
  font-weight: 700;
  line-height: 1.2;
  color: var(--text-main);
  margin-bottom: 16px;
}

.highlight {
  color: var(--text-accent);
}

.subtitle {
  font-size: 18px;
  line-height: 1.5;
  color: var(--text-main);
  margin-bottom: 40px;
}

.instruction {
  font-size: 16px;
  color: var(--text-main);
  margin-bottom: 24px;
}

/* Scratch Card - EXACT 220x220 */
.scratch-card-wrapper {
  position: relative;
  width: 220px;
  height: 220px;
  margin: 0 auto 40px;
}

.scratch-card-container {
  width: 220px;
  height: 220px;
  position: relative;
  border-radius: 24px;
  overflow: hidden;
  cursor: pointer;
}

/* Lottie Animation Background */
#lottieBackground {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}

/* Canvas Scratch Layer */
#scratchCanvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2;
  cursor: pointer;
  touch-action: none;
}

/* Revealed Content */
.revealed-content {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: #EBF5E4;
  z-index: 0;
  padding: 24px;
  border-radius: 24px;
}

.discount-text {
  font-size: 80px;
  font-weight: 700;
  color: #7ABF4C;
  line-height: 0.9;
  text-align: center;
  margin-bottom: 8px;
}

.discount-percent {
  font-size: 32px;
}

.promo-divider {
  width: 80%;
  height: 2px;
  background: rgba(122, 191, 76, 0.3);
  margin: 16px 0;
  border: none;
  border-top: 2px dashed rgba(122, 191, 76, 0.3);
}

.promo-code {
  font-size: 18px;
  color: #4F981D;
  font-weight: 500;
  letter-spacing: 1px;
}

/* Bottom Sheet Modal */
.bottom-sheet {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.7);
  z-index: 100;
  display: none;
  align-items: flex-end;
  justify-content: center;
  width: 100%;
  height: 100%;
  animation: fadeIn 0.3s ease;
}

.bottom-sheet.show {
  display: flex;
}

.bottom-sheet-content {
  position: relative;
  background: #FFFFFF;
  border-radius: 24px 24px 0 0;
  padding: 32px 24px;
  width: 100%;
  max-width: 500px;
  text-align: center;
  animation: slideUp 0.4s ease-out;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.2);
}

/* Lottie Confetti Background - LARGER */
#lottieConfetti {
  position: absolute;
  top: -250px;
  left: 50%;
  transform: translateX(-50%);
  width: 600px;
  height: 600px;
  pointer-events: none;
  z-index: -1;
}

.heading-icon {
  width: 32px;
  height: 32px;
  margin: 0 auto 16px;
}

.modal-title {
  font-size: 32px;
  font-weight: 900;
  color: var(--text-main);
  margin-bottom: 8px;
}

.modal-subtitle {
  font-size: 18px;
  color: var(--text-main);
  margin-bottom: 16px;
}

.modal-discount {
  font-size: 64px;
  font-weight: 700;
  color: var(--text-accent);
  line-height: 1;
  margin-bottom: 16px;
}

.modal-note {
  font-size: 16px;
  color: var(--text-secondary);
  margin-bottom: 24px;
}

/* Button */
.claim-button {
  background: var(--text-accent);
  color: #FFFFFF;
  font-size: 16px;
  font-weight: 600;
  text-transform: uppercase;
  padding: 16px 48px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  width: 100%;
  font-family: 'Space Grotesk', sans-serif;
  letter-spacing: 0.5px;
  box-shadow: 0px 8px 24px 0px rgba(86, 83, 254, 0.42);
  transition: opacity 0.2s;
}

.claim-button:hover {
  opacity: 0.9;
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

/* Mobile Responsive */
@media (max-width: 768px) {
  nav {
    height: 48px;
  }

  h1 {
    font-size: 32px;
  }

  .subtitle {
    font-size: 16px;
  }

  .modal-title {
    font-size: 28px;
  }

  .modal-discount {
    font-size: 56px;
  }

  #lottieConfetti {
    width: 500px;
    height: 500px;
    top: -200px;
  }
}
</style>
</head>
<body>

<!-- Page Container -->
<div class="page-container">
  <!-- Header -->
  <nav>
    <svg xmlns="http://www.w3.org/2000/svg" width="99" height="30">
      <path fill="var(--text-accent, #5653FE)" d="M20.233 21.254c-2.068 0-3.822-1.225-4.541-3.17-.764-2.027-.495-4.858.674-7.816.45-1.057.945-2.028 1.529-2.916 2.113 1.057 4.406 1.902 6.97 1.902 3.012 0 6.025-1.48 6.069-4.733C30.979 2.24 28.596 0 25.224 0c-2.878 0-5.755 1.268-8.048 3.507C14.208 1.817 11.016 0 7.464 0 3.642 0 0 2.62 0 6.507c0 3.043 2.473 5.62 5.8 5.62 2.968 0 5.396-2.113 5.396-4.944 0-1.14-.764-2.282-1.664-2.789L7.644 6.296c.27.254.405.718.405 1.014 0 1.014-1.125 1.86-2.339 1.86-1.484 0-2.562-1.184-2.562-2.663 0-2.24 2.247-3.55 4.316-3.55 2.652 0 5.126 1.437 7.733 2.916a17.74 17.74 0 0 0-2.023 3.972c-1.484 4.099-1.439 7.564-.09 10.141 1.574 3 4.631 4.015 7.014 4.015 3.867 0 8.004-2.24 10.162-7.31l-2.608-.592c-.944 2.493-3.867 5.155-7.419 5.155Zm4.811-18.508c1.979 0 2.923.972 2.923 1.86 0 1.098-1.26 1.859-3.058 1.859-1.663 0-3.282-.634-4.99-1.48 1.573-1.436 3.416-2.239 5.125-2.239Z"></path>
      <path fill="url(#a)" d="M17.174 3.507C14.207 1.817 11.014 0 7.462 0v2.958c2.653 0 5.126 1.436 7.734 2.915.611-.854 1.3-1.649 1.978-2.366Z" opacity="0.51"></path>
      <path fill="url(#b)" d="M27.967 4.606c0 1.098-1.259 1.859-3.057 1.859-1.664 0-3.283-.634-4.991-1.48-.696.656-1.357 1.421-2.024 2.368 2.114 1.056 4.407 1.901 6.97 1.901 3.012 0 6.025-1.48 6.07-4.733l-2.968.085Z" opacity="0.51"></path>
      <path fill="var(--text-accent)" d="M41.19 16.098c-.45 1.48-1.439 2.029-2.338 2.029-.135 0-.225 0-.36-.043 1.259-4.056.135-7.31-2.922-8.113-.36-.084-.855-.169-1.17-.169-3.057 0-5.665 2.155-6.879 5.832-1.349 4.183-.045 7.436 3.058 8.24.404.084.809.126 1.214.126 1.978 0 4.091-1.141 5.53-3.38.405.126.854.168 1.484.168 1.664 0 3.911-.718 5.036-4.098l-2.654-.592Zm-5.126-.084c-1.214.295-1.978 2.366-1.169 3.127-.99 1.52-2.293 2.324-3.327 2.155-1.574-.296-2.248-2.198-1.17-5.113.945-2.535 2.969-4.099 4.452-3.592.99.338 1.529 1.564 1.214 3.423Z"></path>
      <path fill="var(--text-accent)" d="M48.277 21.253C46.793 22.943 45.174 24 43.42 24c-2.787 0-3.956-2.409-2.742-6.55l2.113-7.31h3.013L43.6 17.83c-.494 1.775-.72 3.212-.09 3.508.675.296 1.979-.422 3.373-2.197 1.304-1.648 2.383-3.676 3.237-6.212l.81-2.789h3.012l-2.518 8.832c-.36 1.225-.54 2.24.045 2.45.81.296 2.473-1.52 3.822-5.324l2.652.592C56.415 20.873 54.481 24 51.244 24c-1.618 0-2.832-1.31-2.967-2.747Z"></path>
      <path fill="var(--text-accent)" d="M57.832 20.493c.18-3.043 2.742-5.07 3.687-7.141l-2.608-.803c-.045.887-.63 3.17-1.08 4.394l-2.607-.634c.495-1.056 1.079-3.718 1.079-4.647-.584-.465-.944-1.775.045-2.494.81-.59 2.069-.295 2.653.55.809.338 2.563.803 4.316 1.352.944.296 1.709.507 1.979 1.14.27.635-.405 1.564-1.844 3.508-1.034 1.394-2.698 3.465-2.652 4.732 0 .592.404.93.944.93 1.123 0 3.192-1.352 4.63-5.282l2.654.592C67.228 21.507 64.71 24 61.564 24c-2.158 0-3.867-1.521-3.732-3.507Z"></path>
      <path fill="var(--text-accent)" d="m77.755 16.69-2.653-.592c-.584 1.648-1.664 2.831-3.147 3.803-1.799-3.084-3.912-4.986-3.418-6.422.27-.888 1.215-1.226 1.98-.972.674.211.898.93.898 1.14l2.248-.802c-.045-.465-.27-1.141-.674-1.69-.675-.888-1.798-1.353-3.012-1.353-2.204 0-3.688 1.226-4.182 3-.9 3.296 2.203 5.79 3.732 8.41-.72.337-1.53.675-2.338 1.013-3.957 1.648-4.856 3.465-4.496 5.07.36 1.522 1.933 2.705 4.091 2.705 3.732 0 7.149-3.38 6.205-7.606 1.798-1.183 3.687-2.62 4.766-5.704ZM67.234 27.38c-.9.17-1.574-.042-1.664-.507-.09-.38.09-1.014 1.844-1.859.989-.465 1.933-.845 2.877-1.226-.045 2.198-2.113 3.423-3.057 3.592Z"></path>
      <path fill="var(--text-accent)" d="M74.393 22.352c-.404-.845-.54-2.282.045-4.268l2.293-7.943h3.013l-2.518 8.83c-.36 1.226-.54 2.24.044 2.451.81.296 2.474-1.52 3.823-5.323l2.652.591C82.216 20.873 80.283 24 77.046 24c-1.304 0-2.293-.887-2.653-1.648ZM79.069 5.07c1.034 0 1.664.676 1.664 1.563 0 .888-.72 1.606-1.664 1.606s-1.708-.718-1.708-1.606c0-.887.764-1.563 1.708-1.563Z"></path>
      <path fill="var(--text-accent)" d="M91.516 19.267c-1.26 2.62-3.418 4.733-6.34 4.733-4.137 0-5.081-4.352-4.407-7.31.675-2.916 1.844-5.113 2.833-6.55h3.102c-1.124 1.69-2.383 4.268-2.922 6.465-.63 2.536-.27 4.606 1.259 4.817 1.798.254 3.641-1.774 4.361-5.197.315-1.521.45-3.38.315-5.028l2.832-1.057c0 2.705-.18 7.606 2.024 7.564.81 0 1.393-.718 1.664-1.606l2.652.592c-1.214 3.296-3.192 3.718-4.496 3.718-1.034 0-2.518-.676-2.877-1.14Z"></path>
      <defs>
        <linearGradient id="a" x1="18.495" x2="12.739" y1="6.66" y2="3.037"><stop offset="0.15"/><stop offset="0.826" stop-opacity="0"/></linearGradient>
        <linearGradient id="b" x1="17.352" x2="25.412" y1="1.21" y2="7.318"><stop offset="0.226"/><stop offset="0.629" stop-opacity="0"/></linearGradient>
      </defs>
    </svg>
  </nav>

  <!-- Main Content -->
  <div class="content">
    <h1>Scratch & Save on your<br><span class="highlight">28-Day AI Challenge!</span></h1>

    <div class="subtitle">
      Boost your skills and master AI!<br>
      Get your gift with us üéÅ
    </div>

    <div class="instruction">
      Scratch the card üëá
    </div>

    <!-- Scratch Card - 220x220px -->
    <div class="scratch-card-wrapper">
      <div class="scratch-card-container">
        <!-- Lottie Background Animation -->
        <div id="lottieBackground"></div>

        <!-- Revealed Content (50% OFF + Promo Code) -->
        <div class="revealed-content">
          <div class="discount-text">50<span class="discount-percent">%</span><br>OFF</div>
          <hr class="promo-divider">
          <div class="promo-code">sss_nov2025</div>
        </div>

        <!-- Canvas for Scratching -->
        <canvas id="scratchCanvas" width="220" height="220"></canvas>
      </div>
    </div>
  </div>
</div>

<!-- Bottom Sheet Modal -->
<div class="bottom-sheet" id="bottomSheet">
  <div class="bottom-sheet-content">
    <!-- Lottie Confetti Animation -->
    <div id="lottieConfetti"></div>

    <img src="https://d3kigabz1zn79w.cloudfront.net/Heading.webp" alt="Celebration" class="heading-icon">
    <div class="modal-title"><strong>Woo hoo!</strong></div>
    <div class="modal-subtitle">You won a promo code with</div>
    <div class="modal-discount">50% off</div>
    <div class="modal-note">It will be applied automatically</div>
    <button class="claim-button" id="claimButton">CLAIM MY DISCOUNT</button>
  </div>
</div>

<script>
// Canvas Scratch Card Implementation
const canvas = document.getElementById('scratchCanvas');
const ctx = canvas.getContext('2d');
const bottomSheet = document.getElementById('bottomSheet');
let isScratching = false;
let scratchedPercentage = 0;

// Draw initial scratch cover
function drawScratchCover() {
  // Create gradient for scratch cover
  const gradient = ctx.createLinearGradient(0, 0, 220, 220);
  gradient.addColorStop(0, '#FFD89B');
  gradient.addColorStop(1, '#FFA751');

  ctx.fillStyle = gradient;
  ctx.fillRect(0, 0, 220, 220);

  // Add scratch pattern overlay
  ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
  ctx.font = '60px Arial';
  ctx.textAlign = 'center';
  ctx.fillText('„Ä∞Ô∏è', 110, 80);
  ctx.fillText('„Ä∞Ô∏è', 110, 130);
  ctx.fillText('„Ä∞Ô∏è', 110, 180);
}

// Initialize scratch cover
drawScratchCover();

// Scratch functionality
function scratch(x, y) {
  ctx.globalCompositeOperation = 'destination-out';
  ctx.beginPath();
  ctx.arc(x, y, 20, 0, Math.PI * 2);
  ctx.fill();

  // Calculate scratched percentage
  calculateScratchedArea();
}

function calculateScratchedArea() {
  const imageData = ctx.getImageData(0, 0, 220, 220);
  const pixels = imageData.data;
  let transparent = 0;

  for (let i = 0; i < pixels.length; i += 4) {
    if (pixels[i + 3] < 128) transparent++;
  }

  scratchedPercentage = (transparent / (pixels.length / 4)) * 100;

  // Show modal when 10% scratched - immediately show confetti
  if (scratchedPercentage > 10 && !bottomSheet.classList.contains('show')) {
    showBottomSheet(); // Show immediately
  }
}

function showBottomSheet() {
  bottomSheet.classList.add('show');
  loadLottieConfetti();
}

// Mouse events
canvas.addEventListener('mousedown', (e) => {
  isScratching = true;
  const rect = canvas.getBoundingClientRect();
  scratch(e.clientX - rect.left, e.clientY - rect.top);
});

canvas.addEventListener('mousemove', (e) => {
  if (!isScratching) return;
  const rect = canvas.getBoundingClientRect();
  scratch(e.clientX - rect.left, e.clientY - rect.top);
});

canvas.addEventListener('mouseup', () => {
  isScratching = false;
});

canvas.addEventListener('mouseleave', () => {
  isScratching = false;
});

// Touch events
canvas.addEventListener('touchstart', (e) => {
  e.preventDefault();
  isScratching = true;
  const rect = canvas.getBoundingClientRect();
  const touch = e.touches[0];
  scratch(touch.clientX - rect.left, touch.clientY - rect.top);
});

canvas.addEventListener('touchmove', (e) => {
  e.preventDefault();
  if (!isScratching) return;
  const rect = canvas.getBoundingClientRect();
  const touch = e.touches[0];
  scratch(touch.clientX - rect.left, touch.clientY - rect.top);
});

canvas.addEventListener('touchend', () => {
  isScratching = false;
});

// Load Lottie Animations
function loadLottieBackground() {
  lottie.loadAnimation({
    container: document.getElementById('lottieBackground'),
    renderer: 'svg',
    loop: true,
    autoplay: true,
    path: 'https://duskxyykp230s.cloudfront.net/Main-Scene-scratch.json'
  });
}

function loadLottieConfetti() {
  lottie.loadAnimation({
    container: document.getElementById('lottieConfetti'),
    renderer: 'svg',
    loop: true,
    autoplay: true,
    path: 'https://duskxyykp230s.cloudfront.net/Animation-1749708947300.json'
  });
}

// Initialize Lottie background
loadLottieBackground();

// Claim button
document.getElementById('claimButton').addEventListener('click', () => {
  alert('Discount claimed! Redirecting...');
  // window.location.href = '/your-next-page';
});
</script>

</body>
</html>
